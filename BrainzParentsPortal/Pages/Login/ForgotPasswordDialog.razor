@page "/Login/ForgotPasswordDialog"
@using BrainzParentsPortal.Integration.PortalDb;
@using BrainzParentsPortal.Shared.SettingModels;
@inject IDialogService DialogService
@inject PortalDbConnectionSettings PortalDbConnectionSettings
@inject EmailServerSettings EmailServerSettings
@inject BrainzParentsPortalSettings BrainzParentsPortalSettings

<MudDialog Style="width:500px; height:400">
    <DialogContent>
        <MudGrid>
            <MudItem xs="12">
                <MudForm Model="ForgotPasswordFormModel" @bind-IsValid="@IsFormSuccess" @bind-Errors="@Errors">
                    <MudCardContent>
                        <MudText>Please privide your email address.</MudText>
                        <MudTextField @bind-Value="ForgotPasswordFormModel.Email" For="@(() => ForgotPasswordFormModel.Email)" Label="Email"
                                      Variant="MudBlazor.Variant.Outlined" Class="mt-3" HelperText="Input email" />

                    </MudCardContent>

                    <MudCardActions>
                        <MudButton Variant="MudBlazor.Variant.Outlined" Color="Color.Primary" OnClick="OnCancel">Cancel</MudButton>
                        <MudButton Variant="MudBlazor.Variant.Outlined" Color="Color.Primary" Class="ml-auto"
                                   OnClick="@(async(e) => await OnSendResetPasswordEmail())">Send password reset email</MudButton>
                    </MudCardActions>

                </MudForm>
            </MudItem>
        </MudGrid>
    </DialogContent>

    <DialogActions>
@*         <MudButton Variant="MudBlazor.Variant.Outlined" Color="Color.Primary" OnClick="OnCancel">Cancel</MudButton>
        <MudButton Variant="MudBlazor.Variant.Outlined" Color="Color.Primary" OnClick="OnSendResetPasswordEmail">Send password reset email</MudButton> *@
    </DialogActions>



</MudDialog>

